<!DOCTYPE html>
<html>
<title>TiMedia</title>
<link rel="stylesheet" type="text/css" href="style.css">
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<center>
<div class="top">
 <h2 style="color:white;">TiMedia</h2>
 </div>
<br><br>
<div id="access" style="padding:35px;">
 <input placeholder="Username" id="username" type="text"><br>
 <input placeholder="Password" id="password" type="password"><br>
 <button class="base btn" onclick="checkPass()">Login!</button>
 <p id="bottomlogin">Don't have a login? Request one <a href="https://docs.google.com/forms/d/e/1FAIpQLScCiyFtn6ODD7rIsL6HBJXHttwk89F8dirYY4vvw8q3DpA9HA/viewform"><b>here.</b></a><br> Not sure you want to sign up? This <a href="check-out-ti-home.html">informational page</a> will show you TiMedia's functions, and the benefits of becoming a user!</p>
</div>
<div style="visibility:hidden;" id="ban">
 <h3>You are banned from TiMedia</h3>
 <p>You may not appeal for this ban.<p>
 <button onclick="logOut()" class="base btn">Log Out</button>
 </div>
<div id="content" style="visibility:hidden;">
<div class="background" id="navbar">
	<a href="index.html"><img draggable=false id="home-icon" style="padding:50px;" width=50px src="home.png"></a>
	<a href="news.html"><img draggable=false id="news-icon" style="padding:50px;" width=50px src="news.png"></a>
	<a href="points.html"><img draggable=false id="money-icon" style="padding:50px;" width=50px src="money.png"></a>
	<a href="settings.html"><img draggable=false id="gears-icon" style="padding:50px;" width=50px src="gears.png"></a>
</div><br><br><br><br><br>
 <h1 id="hello">Hello!</h1><button onclick="logOut()" class="base btn">Log Out</button>
<p id="modpanelnotice"></p>
<div style="background-color:white;">
<img width=175px src="https://images-na.ssl-images-amazon.com/images/I/71RH7Vj8FUL._SL1500_.jpg">
 <img width=150px src="https://images-na.ssl-images-amazon.com/images/I/A1p6HHnJWaL._SX466_.jpg">
 <img width=215px src="http://i258.photobucket.com/albums/hh259/kaspernova/84PCS-Pink.jpg">
 <img width=95px src="https://upload.wikimedia.org/wikipedia/commons/8/89/PLT-SHH1.jpg">
 <img width=85px src="http://tiplanet.org/forum/gallery/image.php?album_id=15&image_id=273&view=no_count">
 <img width=190px src="http://s7d1.scene7.com/is/image/officedepot/905739_scene7?$OD-Dynamic$&wid=450&hei=450">
 <img width=190px src="http://www.staples-3p.com/s7/is/image/Staples/m000916946_sc7?$splssku$"><br>
 <img id="89" src="http://ti.zewaren.net/en/images/calc-ti89.gif">
 <a href="https://www.ocf.berkeley.edu/~pad/emu/v11.html"><img id="92plus" src="http://www.ticalc.org/images/calcs/92plus-big.gif"></a>
 <img id="nspirecxcas" width="200px" src="https://images-na.ssl-images-amazon.com/images/I/71xGnSqQUsL._SY679_.jpg">
 <img id="84plusce" width="200px" src="https://images-na.ssl-images-amazon.com/images/G/01/aplusautomation/vendorimages/0e74993e-8b04-4f99-a980-2437ad5c0728.jpg._CB283769908__SR150,300_.jpg">
	</div>
<!-- start Feedback -->
<script data-sil-id='591367bea43fd60015db241c'> (function() {var d = document, w = window, l = window.location,p = l.protocol == 'file:' ? 'http://' : '//';if (!w.WS) w.WS = {}; c = w.WS;var m=function(t, o){  var e = d.getElementsByTagName('script'); e=e[e.length-1];  var n = d.createElement(t); if (t=='script') {n.async=true;} for (k in o) n[k] = o[k];  e.parentNode.insertBefore(n, e)};   m('script', {      src: p+'bawkbox.com/widget/feedback/591367bea43fd60015db241c?page='+encodeURIComponent(l+''),      type: 'text/javascript'  });  c.load_net = m;})();</script><div class='sil-widget-feedback sil-widget' id='sil-widget-591367bea43fd60015db241c'<a href='https://bawkbox.com/install/feedback'>Feedback is loading...</a></div>
<!-- end Feedback -->
 <p id="mutemessage"></p>
 <!-- begin comment box -->
 <div id="HCB_comment_box"><a href="http://www.htmlcommentbox.com">HTML Comment Box</a> is loading comments...</div>
 <link rel="stylesheet" type="text/css" href="//www.htmlcommentbox.com/static/skins/bootstrap/twitter-bootstrap.css?v=0" />
 <script type="text/javascript" id="hcb"> /*<!--*/ if(!window.hcb_user){hcb_user={};} (function(){var s=document.createElement("script"), l=hcb_user.PAGE || (""+window.location).replace(/'/g,"%27"), h="//www.htmlcommentbox.com";s.setAttribute("type","text/javascript");s.setAttribute("src", h+"/jread?page="+encodeURIComponent(l).replace("+","%2B")+"&mod=%241%24wq1rdBcg%243yD1.Hi93ryNAuOTAUZB50"+"&opts=16406&num=10&ts=1494623824036");if (typeof s!="undefined") document.getElementsByTagName("head")[0].appendChild(s);})(); /*-->*/ </script>
<!-- end comment box -->
</center>
 </body>
<style>
	#bottomlogin {
		font-size: 18px;
	}
</style>

</div>
<script>	
var logins = ["aHltZW5vcHVzOnRpZXI=", "aGVucnk6cG9ydA==", "Z3JhcGhpbmdoYW5kaGVsZDp0SQ==", "bmVpbDpjYXQ=", "aGF5ZGVuOnF3ZXJ0eQ==", "cmFlZjp0aQ==", "bmFjaG9jaGVlc2UyMDE3Om1jY29ybWljaw==", "dmlvaXNhbmVyZDp0aQ==","ZmFydGJvYjpmYXJ0Ym9i"]
var bannedusers = ["hayden"];
var banreason = [""]
var mutedusers = ["hayden"];
var tracking = ["hayden"];
var mods = ["hymenopus", "graphinghandheld", "hayden", "neil", "henry"];
  if (window.location.href == "https://timedia.netlify.com/" || window.location.href == "http://timedia.netlify.com/") {
      alert("This is the testing site for TiMedia. For the official site goto timedia.tk!");
  }
  
 function checkAdmin() {
  if (contains(mods, getCookie("name"))) {
            document.getElementById('modpanelnotice').innerHTML = "<a href='mod.html'>Click here to access the moderator panel!</a>";
   }
 }
 
function checkRank() {
  if (localStorage.purchases.includes("!!isvit:true!!") && !localStorage.purchases.includes("!!ismvt:true!!") && !localStorage.purchases.includes("!!ismvtplus:true!!")) {
    	var i = 0;
	while (i < 10) {
		if (document.getElementsByClassName('author-name')[i].innerHTML == getCookie("name") + " ") {
		document.getElementsByClassName('author-name')[i].style = "color:gold;";
		}
		i++;
	}
 }
  if (localStorage.purchases.includes("!!ismvt:true!!") && !localStorage.purchases.includes("!!isvit:true!!") && !localStorage.purchases.includes("!!ismvtplus:true!!")) {
    var i = 0;
	while (i < 10) {
		if (document.getElementsByClassName('author-name')[i].innerHTML == getCookie("name") + " ") {
		document.getElementsByClassName('author-name')[i].style = "color:green;";
	}
	i++;
	}
  }
  if (!localStorage.purchases.includes("!!ismvt:true!!") && !localStorage.purchases.includes("!!isvit:true!!") && localStorage.purchases.includes("!!ismvtplus:true!!")) {
    var i = 0;
	while (i < 10) {
		if (document.getElementsByClassName('author-name')[i].innerHTML == getCookie("name") + " ") {
		document.getElementsByClassName('author-name')[i].style = "color:red;";
	}
	i++;
	}
  }
	
  if (localStorage.purchases.includes("!!ismvt:true!!") && localStorage.purchases.includes("!!isvit:true!!") && !localStorage.purchases.includes("!!ismvtplus:true!!")) {
    var i = 0;
	while (i < 10) {
		if (document.getElementsByClassName('author-name')[i].innerHTML == getCookie("name") + " ") {
		document.getElementsByClassName('author-name')[i].style = "color:blue;";
	}
	i++;
	}
  }
	
}
  function changeName() {
   document.getElementById('hcb_form_name').value = getCookie("name");
   document.getElementById('hcb_form_name').disabled = true;   
   }
  
 Element.prototype.remove = function() {
    this.parentElement.removeChild(this);
}
NodeList.prototype.remove = HTMLCollection.prototype.remove = function() {
    for(var i = this.length - 1; i >= 0; i--) {
        if(this[i] && this[i].parentElement) {
            this[i].parentElement.removeChild(this[i]);
        }
    }
}
 
function checkMute() {
if (contains(mutedusers, getCookie("name")) || getCookie("mute") == "true") {
  document.getElementById('HCB_comment_form_box').remove();
  document.getElementById('mutemessage').innerHTML = "You are muted! You cannot post comments.";
 }
}
function logOut() {
 delete_cookie("login");
 document.cookie = "post=true";
 window.location.href = "sync.html";
}
 
 
function delete_cookie( name ) {
  document.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
}
 
 
function getCookie(cname) {
    var name = cname + "=";
    var decodedCookie = decodeURIComponent(document.cookie);
    var ca = decodedCookie.split(';');
    for(var i = 0; i <ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
 
function contains(a, obj) {
  for (var i = 0; i < a.length; i++) {
        if (a[i] === obj) {
            return true;
        }
    }
    return false;
}
 
 
function checkCasioer() {
var comment = document.getElementById('hcb_form_content').value;
 if (comment.includes("casio") || comment.includes("Casio") || comment.includes("CASIO")) {
  document.cookie = "mute=true";
  alert("Don't say Casio! You've been muted!");
  checkMute();
 }
}
 
function checkPass() {
 if (contains(logins,btoa(document.getElementById('username').value + ':' + document.getElementById('password').value))) {
          if (contains(bannedusers,document.getElementById('username').value)) {
                 document.getElementById('ban').style = "visibility: block;";
                 document.getElementById('access').remove();
           } else {
                 document.cookie = "login=true";
                 document.cookie = "name=" + document.getElementById('username').value;
		 document.cookie = "sessID=" + btoa(document.getElementById('password').value);
		 window.location.href = "http://pintient.com/2yVf";
           }
           } else {
  alert("Username or password is incorrect.");
 }
}
 
 if (getCookie("login") == "true") {
          if (contains(bannedusers,getCookie("name"))) {
                 document.getElementById('ban').style = "visibility: block;";
                 document.getElementById('access').remove();
          } else {
	if (contains(logins, btoa(getCookie("name") + ":" + atob(getCookie("sessID"))))) {
		   if (contains(tracking, getCookie("name")) && getCookie("tracked") !== "true" && getCookie("name") !== "graphinghandheld") {
			document.cookie = "tracked=true";
			window.location.href = "http://www.hondachat.com/showthread.php?t=IDz6VF9615Jx75QQ7";
		   }
                document.getElementById('access').remove();
                document.getElementById('ban').remove();
                document.getElementById('content').style = "visibility: block;";
                 document.getElementById('hello').innerHTML = "Hello, " + getCookie("name") + "!";
               setTimeout(checkMute, 50);
                setInterval(checkCasioer, 50);
                 checkAdmin();
		 setInterval(checkRank, 50);
                 setInterval(changeName, 50);
		   if (localStorage.purchases.includes("!!has89le:true!!")) {  
			document.cookie = "has89=true";
		       } else {
		       		document.getElementById('89').remove();	 
		       }
                 	if (localStorage.purchases.includes("!!has92plusle:true!!")) {  
				document.cookie = "has92plus=true";
		      } else {
		       	document.getElementById('92plus').remove();	 
		       }
		   if (localStorage.purchases.includes("!!hasnspirecxcasle:true!!")) {  
			document.cookie = "hasnspirecxcas=true";
		       } else {
		       		document.getElementById('nspirecxcas').remove();	 
		       }
				   if (localStorage.purchases.includes("!!hasti84pluscele:true!!")) {  
			document.cookie = "hasti84pluscele=true";
		       } else {
		       		document.getElementById('84plusce').remove();	 
		       }
           } else {
			   alert("Access denied. Get TIed!");
	   }
	   }
 }
 </script>
</html>


